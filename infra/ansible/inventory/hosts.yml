# Ansible inventory for Karb
# Update IPs after running OpenTofu (tofu output)

all:
  children:
    bot:
      hosts:
        karb-bot:
          ansible_host: "{{ lookup('env', 'KARB_BOT_IP') | default('REPLACE_WITH_BOT_IP', true) }}"
          ansible_user: ubuntu
    proxy:
      hosts:
        karb-proxy:
          ansible_host: "{{ lookup('env', 'KARB_PROXY_IP') | default('REPLACE_WITH_PROXY_IP', true) }}"
          ansible_user: ubuntu

  vars:
    ansible_python_interpreter: /usr/bin/python3
    # Proxy configuration
    proxy_port: 1080
    proxy_user: karb
    proxy_pass: "{{ lookup('env', 'KARB_PROXY_PASS') | default('changeme', true) }}"
